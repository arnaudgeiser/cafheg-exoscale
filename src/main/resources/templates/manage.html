<!DOCTYPE HTML>
<html lang="fr">
<head>
  <title>Gestion d'un allocataire</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
        crossorigin="anonymous">
  <style>
    /* Modify the background color */
    .btn-custom {
      background-color: teal;
      font-weight: bold;
      color: white;
    }

    .btn-custom-outline {
      outline-color: teal;
      border-color: teal;;
      color: teal;
      height: 28px;
      padding-top: 0px;
      padding-bottom: 0px;
    }
  </style>
</head>
<!-- Navbar -->
<nav class="navbar navbar-light bg-dark">
  <div class="d-flex flex-row ms-2">
    <div class="col me-3" style="height: 80px">
      <a class="navbar-brand" href="#">
        <img th:src="@{/logo.png}" alt="logo CAF" width="150" height="45">
        <p class="fw-bold text-white">Caisse des Allocations Familiales</p>
      </a>
    </div>
    <div class="col">
      <a class="btn btn-outline-light" th:href="@{/web}">Home</a>
    </div>
  </div>
</nav>
<body>
<h2 class="ms-4 mt-2 mb-3
      ">Gérer un allocataire</h2>
<a class="btn btn-custom-outline ms-4 mb-3" th:href="@{/web/allocataires}">Revenir à la liste</a>
<span class="text-danger ms-3 fw-bold" th:if="${error}=='versement'">Impossible de supprimer l'allocataire car il a des versements !</span>
<div class="col-6 align-items-center ms-4">
  <form th:action="@{/web/update/{noAVS}(noAVS=${allocataire.noAVS.value})}"
        th:object="${allocataire}" method="POST">
    <div class="mb-3">
      <label for="nom" class="form-label">No AVS</label>
      <input id="nom" type="text" th:field="*{noAVS.value}" readonly class="form-control-plaintext"
             placeholder="Nom"/>
    </div>
    <div class="mb-3">
      <label for="nom" class="form-label">Nom</label>
      <input id="nom" type="text" th:field="*{nom}" class="form-control" placeholder="Nom"/>
    </div>
    <div class="mb-3">
      <label for="prenom" class="form-label">Prénom</label>
      <input id="prenom" type="text" th:field="*{prenom}" class="form-control"
             placeholder="Prénom"/>
    </div>
    <button type="submit" class="btn btn-custom col-2 me-5">Sauvegarder</button>
    <a class="btn btn-custom col- ms-3"
       th:href="@{/web/delete/{noAVS}(noAVS=${allocataire.getNoAVS().getValue()})}">Supprimer</a>
  </form>
</div>
</body>
</html>